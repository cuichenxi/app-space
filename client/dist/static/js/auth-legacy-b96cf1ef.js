!function(){var e=document.createElement("style");e.innerHTML="html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,menu,nav,output,ruby,section,summary,time,mark,audio,video,input{margin:0;padding:0;border:0;font-size:100%;font-weight:400;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,menu,nav,section{display:block}body{line-height:1}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:none}table{border-collapse:collapse;border-spacing:0}a{color:#7e8c8d;-webkit-backface-visibility:hidden;text-decoration:none}li{list-style:none}body{-webkit-text-size-adjust:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}body,html{line-height:1;font-family:PingFang SC,STHeitiSC-Light,Helvetica-Light,arial,sans-serif,Droid Sans Fallback;user-select:none;-webkit-tap-highlight-color:transparent}textarea{resize:none;outline:0}input,button{outline:0}.main-container,.app-container{padding:0 1px;background-color:#f9fafc}.components-container{margin:30px 50px;position:relative}body{background:#F9FAFC;margin:0;padding:0}.nowrap{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.canwrap{word-wrap:break-word;word-break:normal}.button-style-main{padding:0;background:#229FFC;border-width:0px;outline:0;font-size:14px;color:#fff;height:48px;border-radius:24px}.button-style-border{padding:0;background:white;border:solid 1px #229FFC;outline:0;font-size:12px;color:#229ffc;height:48px;border-radius:24px;cursor:pointer}.elbutton-style{width:96px!important;height:36px!important;border:solid 1px #229FFC!important;color:#229ffc!important;background-color:#fff!important;padding:0!important;font-size:12px!important}.borderLine-input{height:24px;border-bottom:solid 1px #eee;padding:0 8px;box-sizing:border-box;font-size:14px;color:#354052}.user{width:100%;height:100%;position:absolute;display:flex;display:-webkit-flex;background-color:#f2f2f2;background-size:100% 100%;font-family:PingFangSC;overflow:hidden}.user-left{width:40%;height:100%;background:#229FFC;opacity:.9;display:flex;max-width:600px;min-width:200px;display:-webkit-flex;flex-direction:column;align-items:center}.user-right{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;overflow:hidden}.user-logo{width:210px;height:50px;margin-top:17.6vh;background-size:210px 40px;background-repeat:no-repeat}.user-divier{width:168px;height:3px;margin-top:16px;background:white}.user-name{font-size:1.5em;color:#fff;margin-top:24px;font-family:STYuanti-SC}.user-item{display:flex;display:-webkit-flex;align-items:center;margin-top:24px}.user-item :hover{cursor:pointer}.user-item img{width:24px;height:24px}.user-item p{color:#fff;font-size:1em;margin-left:24px;width:60px}.user-login-panel{overflow:hidden;height:528px;width:408px;background-color:#fff;position:absolute;border-radius:8px}.user-login-title{height:72px;width:100%;font-size:20px;line-height:24px;padding-left:48px;box-shadow:0 1px rgba(0,0,0,.1)}.user-login-title p{color:#354052;height:100%;line-height:72px}.user-login-title p span{color:#9b9b9b}.user-login-form,.user-register-form{width:100%;text-align:center}.user-login-form .user-login-form-input{margin-top:48px}.user-register-form .user-login-form-input{margin-top:24px}.user-login-form-input{width:312px;height:48px}.user-login-form-input input{border-radius:24px;height:48px;border:1px #229FFC solid}.user .el-input__prefix{padding-left:18px;height:40px}.user .el-input__prefix i{line-height:18px}.user .el-input--prefix .el-input__inner{padding-left:50px;line-height:48px}.user-register-form-btn,.user-login-form-btn,.user-login-form-btn:hover{width:312px;height:48px;border-radius:24px;background:#229FFC;border:#229FFC;color:#fff;font-size:14px;cursor:pointer}.user-login-form-btn{margin-top:48px}.user-register-form-btn{margin-top:24px}.user-login-form-label{margin-top:48px;cursor:pointer}.user-login-form-bottom{float:right;margin-right:48px;font-size:14px;color:#9b9b9b;margin-bottom:24px;cursor:pointer}.user-footer-label{display:block;width:100%;position:fixed;text-align:center;bottom:24px}.user-footer-label p{size:1rem;color:#fff;margin:0 auto}@media screen and (max-width: 768px){.user-left{display:none;position:relative}}@media screen and (max-height: 650px){.user-footer-label{display:none}}\n",document.head.appendChild(e),System.register(["./loginApi-legacy-49c701d3.js","./index-legacy-4a2d7b10.js","./vueRouter-legacy-4ba05e21.js"],(function(e){"use strict";var i,t,o,r,n,s,a;return{setters:[function(e){i=e.l,t=e.a,o=e.b},function(e){r=e.n,n=e.F,s=e.G,a=e.x},function(){}],execute:function(){var l={},p=r({data:function(){return{username:"",password:"",isLogin:!1,errorInfo:"",showType:"login",email:"",showLoading:!1}},created:function(){this.$nextTick((function(){}))},components:{},methods:{onSubmit:function(){"login"===this.showType?this.login():"register"===this.showType?this.regist():this.requestPassword()},onRegister:function(){this.showType="register"===this.showType?"login":"register"},onForget:function(){var e=this;this.$prompt("请输入邮箱,我们会发送新密码到您到邮箱","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,inputErrorMessage:"邮箱格式不正确"}).then((function(i){var t=i.value;e.email=t,e.requestPassword()})).catch((function(i){e.$message({type:"info",message:i})}))},login:function(){var e=this;if(0!==this.username.length)if(0!==this.password.length){this.errorInfo="";var t={username:this.username,password:this.password};this.showLoading=!0,i(t).then((function(i){console.log(i),e.showLoading=!1,n.add(e.axios.baseURL,i.data.token);var t={userName:e.username,userId:i.data._id,permission:i.data.permission,email:i.data.email,apiToken:i.data.apiToken};s(t),e.$router.push("/")}),(function(i){e.showLoading=!1}))}else this.errorInfo="* 密码不能为空";else this.errorInfo="* 用户名不能为空"},regist:function(){var e=this;if(0!==this.username.length)if(0!==this.email.length)if(a.valideEmail(this.email))if(0!==this.password.length){var i={username:this.username,password:this.password,email:this.email};this.showLoading=!0,t(i).then((function(i){e.showLoading=!1,console.log(i),e.$message({message:"恭喜你，注册成功",type:"success"}),setTimeout((function(){e.onRegister()}),500)}),(function(i){e.showLoading=!1}))}else this.$message.error("密码不能为空");else this.$message.error("邮箱格式错误");else this.$message.error("邮箱不能为空");else this.$message.error("用户名不能为空")},requestPassword:function(){var e=this;0!==this.email.length?o({email:this.email}).then((function(i){console.log(i),e.$message({message:"密码已重置,新密码已通过邮件发送至您的邮箱.",type:"success"})}),(function(i){console.log(i),e.$message.error(i)})):this.$message.error("邮箱不能为空")},clickSubItem:function(e){if("api"===e){var i="".concat(this.axios.defaults.baseURL,"api/swagger");window.open(i,"_blank")}if("help"===e){var t=this.axios.defaults.baseURL.replace("https://","").replace("http://","").replace("www.",""),o="http://wiki.".concat(t);console.log(o),window.open(o,"_blank")}if("github"===e){window.open("https://github.com/HeadingMobile","_blank")}e.index}}},(function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"user"},[t("div",{staticClass:"user-right"},[t("div",{staticClass:"user-login-panel"},["login"===e.showType?t("div",{staticClass:"user-login-title"},[t("p",[e._v(" 登录")])]):e._e(),"register"===e.showType?t("div",{staticClass:"user-login-title"},[t("p",[e._v(" 注册")])]):e._e(),"forget"===e.showType?t("div",{staticClass:"user-login-title"},[t("p",[e._v("找回密码")])]):e._e(),t("div",{class:["login"===e.showType?"user-login-form":"user-register-form"]},[t("el-input",{staticClass:"user-login-form-input",attrs:{type:"text",placeholder:"请输入用户名","prefix-icon":"icon-ic_name"},model:{value:e.username,callback:function(i){e.username=i},expression:"username"}}),"register"===e.showType?t("el-input",{staticClass:"user-login-form-input",attrs:{placeholder:"请输入邮箱",type:"email","prefix-icon":"icon-ic_email"},model:{value:e.email,callback:function(i){e.email=i},expression:"email"}}):e._e(),t("el-input",{staticClass:"user-login-form-input",attrs:{placeholder:"请输入密码",type:"password","prefix-icon":"icon-ic_pswd"},model:{value:e.password,callback:function(i){e.password=i},expression:"password"}}),t("el-button",{class:["login"===e.showType?"user-login-form-btn":"user-register-form-btn"],attrs:{type:"submit",loading:e.showLoading},on:{click:e.onSubmit}},[e._v(e._s("login"===e.showType?"立即登录":"立即注册")+" ")]),"login"===e.showType?t("div",{staticClass:"user-login-form-label"},[t("p",[t("span",{on:{click:e.onRegister}},[e._v("没有账号？立即注册")])])]):e._e(),"register"===e.showType?t("div",{staticClass:"user-login-form-label"},[t("p",[t("span",{on:{click:e.onRegister}},[e._v("已有账号？现在登录")])])]):e._e(),t("div",{staticClass:"user-login-form-label user-login-form-bottom"},[t("p",{on:{click:e.onForget}},[e._v("忘记密码")])])],1)])])])}),[],!1,d,null,null,null);function d(e){for(var i in l)this[i]=l[i]}e("default",function(){return p.exports}())}}}))}();
