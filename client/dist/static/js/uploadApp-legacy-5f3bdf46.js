!function(){var e=document.createElement("style");e.innerHTML="html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,menu,nav,output,ruby,section,summary,time,mark,audio,video,input{margin:0;padding:0;border:0;font-size:100%;font-weight:400;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,menu,nav,section{display:block}body{line-height:1}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:none}table{border-collapse:collapse;border-spacing:0}a{color:#7e8c8d;-webkit-backface-visibility:hidden;text-decoration:none}li{list-style:none}body{-webkit-text-size-adjust:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}body,html{line-height:1;font-family:PingFang SC,STHeitiSC-Light,Helvetica-Light,arial,sans-serif,Droid Sans Fallback;user-select:none;-webkit-tap-highlight-color:transparent}textarea{resize:none;outline:0}input,button{outline:0}.main-container,.app-container{padding:0 1px;background-color:#f9fafc}.components-container{margin:30px 50px;position:relative}body{background:#F9FAFC;margin:0;padding:0}.nowrap{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.canwrap{word-wrap:break-word;word-break:normal}.button-style-main{padding:0;background:#229FFC;border-width:0px;outline:0;font-size:14px;color:#fff;height:48px;border-radius:24px}.button-style-border{padding:0;background:white;border:solid 1px #229FFC;outline:0;font-size:12px;color:#229ffc;height:48px;border-radius:24px;cursor:pointer}.elbutton-style{width:96px!important;height:36px!important;border:solid 1px #229FFC!important;color:#229ffc!important;background-color:#fff!important;padding:0!important;font-size:12px!important}.borderLine-input{height:24px;border-bottom:solid 1px #eee;padding:0 8px;box-sizing:border-box;font-size:14px;color:#354052}.uploadApp-wrapper{position:fixed;top:0px;left:0px;width:100%;height:100%;background-color:rgba(255,255,255,.5);z-index:1000;text-align:center}.uploadApp-wrapper .uploadContent{position:absolute;width:240px;height:240px;background-color:#fff;box-shadow:0 0 6px #e0e7ef;border-radius:20px;top:calc(50% - 120px);left:50%;margin-left:-120px}.uploadApp-wrapper .uploadContent img{margin-top:95px}\n",document.head.appendChild(e),System.register(["./index-legacy-4a2d7b10.js"],(function(e){"use strict";var t,o,a;return{setters:[function(e){t=e.n,o=e.k,a=e.l}],execute:function(){var i={props:{appFile:{type:FileList},appInfo:{type:Object}},data:function(){return{progress:0,source:null}},created:function(){var e=this;this.$nextTick((function(){e.beginLoad()}))},methods:{cancelUpload:function(){this.source&&this.source.cancel("取消上传"),this.$emit("closeUpload")},beginLoad:function(){var e=this,t=this,i=o.CancelToken;if(t.source=i.source(),this.appFile[0].size>20971520)return a.exports.Message.error("系统限制50M"),void this.$emit("closeUpload");var n=new FormData;n.append("appId",this.appInfo._id),n.append("active",this.appInfo.autoPublish),n.append("platform",this.appInfo.platform),n.append("file",this.appFile[0]);var r={onUploadProgress:function(e){var o=Math.round(100*e.loaded/e.total);t.$nextTick((function(){t.progress=o}))},cancelToken:t.source.token,timeout:36e6};o.defaults.headers.common["Content-Type"]="multipart/form-data",o.defaults.timeout=6e6,o.post("api/apps/upload",n,r).then((function(t){console.log(t),a.exports.Message({message:t.data.success?"上传成功":t.data.message,type:t.data.success?"success":"error"}),t.data.success?e.$emit("uploadSuccess",t.data):e.$emit("closeUpload")})).catch((function(e){o.isCancel(e)?console.log("Request canceled",e.message):(a.exports.Message.error("上传失败"),this.$emit("closeUpload"))}))}}},n={},r=t(i,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"uploadApp-wrapper"},[o("div",{staticClass:"uploadContent"},[o("img",{attrs:{src:"/assets/loadding.accf0f87.gif"}}),o("div",{staticStyle:{"font-size":"20px","margin-top":"30px",color:"#229FFC"},domProps:{innerHTML:e._s("正在上传中...".concat(e.progress,"%"))}})])])}),[],!1,s,null,null,null);function s(e){for(var t in n)this[t]=n[t]}e("U",function(){return r.exports}())}}}))}();
