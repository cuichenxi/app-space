!function(){var e=document.createElement("style");e.innerHTML="html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,menu,nav,output,ruby,section,summary,time,mark,audio,video,input{margin:0;padding:0;border:0;font-size:100%;font-weight:400;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,menu,nav,section{display:block}body{line-height:1}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:none}table{border-collapse:collapse;border-spacing:0}a{color:#7e8c8d;-webkit-backface-visibility:hidden;text-decoration:none}li{list-style:none}body{-webkit-text-size-adjust:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}body,html{line-height:1;font-family:PingFang SC,STHeitiSC-Light,Helvetica-Light,arial,sans-serif,Droid Sans Fallback;user-select:none;-webkit-tap-highlight-color:transparent}textarea{resize:none;outline:0}input,button{outline:0}.main-container,.app-container{padding:0 1px;background-color:#f9fafc}.components-container{margin:30px 50px;position:relative}body{background:#F9FAFC;margin:0;padding:0}.nowrap{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.canwrap{word-wrap:break-word;word-break:normal}.button-style-main{padding:0;background:#229FFC;border-width:0px;outline:0;font-size:14px;color:#fff;height:48px;border-radius:24px}.button-style-border{padding:0;background:white;border:solid 1px #229FFC;outline:0;font-size:12px;color:#229ffc;height:48px;border-radius:24px;cursor:pointer}.elbutton-style{width:96px!important;height:36px!important;border:solid 1px #229FFC!important;color:#229ffc!important;background-color:#fff!important;padding:0!important;font-size:12px!important}.borderLine-input{height:24px;border-bottom:solid 1px #eee;padding:0 8px;box-sizing:border-box;font-size:14px;color:#354052}.appSetting-wrapper .header{background-color:#fff}.appSetting-wrapper .header .itemWrapper{display:inline-block;width:33%;height:108px;vertical-align:top}.appSetting-wrapper .header .itemWrapper .topWrapper{border-left:solid 4px #229FFC;height:24px;margin-left:24px;margin-top:34px}.appSetting-wrapper .header .itemWrapper .topWrapper .title{font-size:18px;line-height:24px;margin-left:8px;font-family:PingFang SC;color:#354052}.appSetting-wrapper .header .itemWrapper .subWrapper{margin-left:36px;margin-top:12px;height:48px;width:calc(100% - 36px)}.appSetting-wrapper .header .itemWrapper .subWrapper .subtitle{font-size:14px;color:#9b9b9b;line-height:16px;word-wrap:break-word;word-break:normal;user-select:text}.appSetting-wrapper .top{width:100%;height:48px;background-color:#fff;margin-top:12px;line-height:48px;padding-left:24px;box-sizing:border-box}.appSetting-wrapper .content{width:100%;height:500px;background-color:#fff;margin-top:1px;padding-top:35px}.appSetting-wrapper .content .el-form{margin-left:120px}.appSetting-wrapper .content .el-form .el-form-item label{font-size:14px;color:#9b9b9b;margin-right:20px}.appSetting-wrapper .content .el-form .el-form-item .el-input__inner{border-right-width:0px;border-left-width:0px;border-top-width:0px;border-radius:0;font-size:14px;outline:0;padding-left:5px;height:24px!important;line-height:24px}.appSetting-wrapper .content .el-form .el-form-item .shorturl{width:150px;display:inline-block}.appSetting-wrapper .content .el-form .el-form-item .installtype{width:150px}.appSetting-wrapper .content .el-form .merge-select{padding:0;color:#9b9b9b;display:flex;align-items:center;cursor:pointer}.appSetting-wrapper .content .bottomBtn{width:96px;height:36px;border-radius:18px;line-height:36px;margin-top:18px;margin-left:calc(50% - 48px)}.appSetting-wrapper .content .el-form .el-form-item .el-radio span{font-size:14px!important}.appSetting-wrapper .content el-radio__input.is-checked .el-radio__inner{background-color:#229ffc;border-color:#229ffc}.appSetting-wrapper .content .el-radio__input.is-checked+.el-radio__label{color:#229ffc}\n",document.head.appendChild(e),System.register(["./index-legacy-4a2d7b10.js","./vueRouter-legacy-4ba05e21.js"],(function(e){"use strict";var t,i,r,p,a;return{setters:[function(e){t=e.n,i=e.H,r=e.f,p=e.j,a=e.h},function(){}],execute:function(){var o={},n=t({components:{HeaderAppSelect:i},data:function(){return{curApp:r.getCurApp(),appList:[],mergeList:[],curMerge:{},installType:"公开",publishType:"手动发布",installPwd:"",mergeAppId:"",showHistory:"是",diffNum:0,headerOperationData:["Bundle ID","App Key"],subTitleArr:[]}},created:function(){var e=this;this.$nextTick((function(){e.getAppDetailData()}))},mounted:function(){this.init()},methods:{init:function(){var e=this;this.appList=r.getApps(),this.curApp=r.getCurApp(),this.mergeList=this.appList.filter((function(t){return"rn"!=t.platform&&t.platform!=e.curApp.platform&&t._id!=e.curApp._id})),this.installType=1===this.curApp.installWithPwd?"密码安装":"公开",this.publishType=!0===this.curApp.autoPublish?"自动发布":"手动发布",this.showHistory=!0===this.curApp.showHistory?"是":"否",this.installPwd=this.curApp.installPwd,this.mergeAppId=this.curApp.mergeAppId,this.diffNum=this.curApp.diffNum,this.curMerge=(this.mergeList||[]).find((function(t){return t._id==e.curApp.mergeAppId}))||{}},clickSure:function(){var e=this;if("密码安装"!==this.installType||""!==this.installPwd)if(this.diffNum>10)this.$message.error("建议增量版本<=10");else{var t={shortUrl:this.curApp.shortUrl,appName:this.curApp.appName,installWithPwd:"公开"===this.installType?0:1,installPwd:this.installPwd,mergeAppId:this.curMerge._id,diffNum:this.diffNum,autoPublish:"手动发布"===this.publishType?0:1,showHistory:"是"===this.showHistory};p(this.curApp._id,t).then((function(t){t.success&&(e.$message.success(t.message),e.bus.$emit("refreshAppList"),e.bus.$emit("refreshAppInfo"))}),(function(e){}))}else this.$message.error("密码不能为空")},onMergeItemClick:function(e){this.curMerge=this.mergeList.find((function(t){return t._id==e._id}))||{},console.log("this.curMerge",this.curMerge)},getAppDetailData:function(){var e=this;this.curApp=r.getCurApp(),a(this.curApp._id).then((function(t){console.log(t),e.curApp=t.data,r.setCurApp(e.curApp),e.init(),e.subTitleArr=[],e.subTitleArr.push(e.curApp.bundleId),e.subTitleArr.push(e.curApp._id)}),(function(e){}))},updateAppInfoSuccess:function(){this.getAppDetailData()},getHost:function(){return window.location.origin+"/"}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"appSetting-wrapper"},[i("div",{staticClass:"header"},[i("ul",e._l(this.headerOperationData,(function(t,r){return i("li",{key:r,staticClass:"itemWrapper"},[i("div",{staticClass:"topWrapper"},[i("p",{staticClass:"title"},[e._v(e._s(t))])]),e.curApp._id?i("div",{staticClass:"subWrapper"},[i("p",{staticClass:"subtitle"},[e._v(e._s(e.subTitleArr[r]))])]):e._e()])})),0)]),e._m(0),i("div",{staticClass:"content"},[i("el-form",{attrs:{labelWidth:"150px","label-position":"left"}},[i("el-form-item",{attrs:{label:"应用名称"}},[i("el-input",{staticClass:"shorturl",model:{value:e.curApp.appName,callback:function(t){e.$set(e.curApp,"appName",t)},expression:"curApp.appName"}})],1),i("el-form-item",{attrs:{label:"应用短链接"}},[e._v(" "+e._s(this.getHost())),i("el-input",{staticClass:"shorturl",model:{value:e.curApp.shortUrl,callback:function(t){e.$set(e.curApp,"shortUrl",t)},expression:"curApp.shortUrl"}})],1),i("el-form-item",{attrs:{label:"安装方式"}},[i("el-radio",{attrs:{label:"公开"},model:{value:e.installType,callback:function(t){e.installType=t},expression:"installType"}},[e._v("公开")]),i("el-radio",{attrs:{label:"密码安装"},model:{value:e.installType,callback:function(t){e.installType=t},expression:"installType"}},[e._v("密码安装")]),i("el-input",{directives:[{name:"show",rawName:"v-show",value:"密码安装"===e.installType,expression:"installType === '密码安装'"}],staticClass:"installtype",attrs:{type:"password",placeholder:"密码"},model:{value:e.installPwd,callback:function(t){e.installPwd=t},expression:"installPwd"}})],1),i("el-form-item",{attrs:{label:"发布方式"}},[i("el-radio",{attrs:{label:"手动发布"},model:{value:e.publishType,callback:function(t){e.publishType=t},expression:"publishType"}},[e._v("手动发布")]),i("el-radio",{attrs:{label:"自动发布"},model:{value:e.publishType,callback:function(t){e.publishType=t},expression:"publishType"}},[e._v("自动发布")])],1),i("el-form-item",{attrs:{label:"是否展示历史"}},[i("el-radio",{attrs:{label:"是"},model:{value:e.showHistory,callback:function(t){e.showHistory=t},expression:"showHistory"}},[e._v("展示")]),i("el-radio",{attrs:{label:"否"},model:{value:e.showHistory,callback:function(t){e.showHistory=t},expression:"showHistory"}},[e._v("不展示")])],1),"android"!=e.curApp.platform?i("el-form-item",{attrs:{label:"增量版本个数"}},[i("el-input",{staticClass:"shorturl",attrs:{type:"number"},model:{value:e.diffNum,callback:function(t){e.diffNum=t},expression:"diffNum"}})],1):e._e(),"rn"!=e.curApp.platform?i("el-form-item",{attrs:{label:"合并应用"}},[i("el-dropdown",{attrs:{placement:"bottom-start",size:"medium"}},[i("div",{staticClass:"el-dropdown-link merge-select"},[e.curMerge._id?i("header-app-select",{attrs:{item:e.curMerge}}):e._e(),e.curMerge._id?e._e():i("span",[e._v("请选择合并应用")]),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})],1),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e._l(e.mergeList,(function(t){return i("el-dropdown-item",{key:t._id},[i("div",{on:{click:function(i){return e.onMergeItemClick(t)}}},[i("header-app-select",{attrs:{item:t}})],1)])})),i("el-dropdown-item",{attrs:{divided:""}},[i("div",{on:{click:function(t){return e.onMergeItemClick({})}}},[e._v(" 解除合并 ")])])],2)],1)],1):e._e()],1),i("button",{staticClass:"bottomBtn button-style-border",attrs:{type:"button"},on:{click:e.clickSure}},[e._v("立即生效")])],1)])}),[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"top"},[i("i",{staticClass:"el-icon-setting"}),e._v(" 设置 ")])}],!1,l,null,null,null);function l(e){for(var t in o)this[t]=o[t]}e("default",function(){return n.exports}())}}}))}();
